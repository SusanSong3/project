"use strict";!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jquery)}(function(t){function e(e){this.small_ele=t(e.small_ele),this.focus_ele=t(e.focus_ele),this.big_ele=t(e.big_ele),0!=this.small_ele.length&&0!=this.focus_ele.length&&0!=this.big_ele.length&&this.init()}return e.prototype={constructor:e,init:function(){this.scale=2,this.ratio(),this.small_ele.on("mouseenter",{hidden:!1},t.proxy(this.toggleFocus,this)),this.small_ele.on("mouseleave",{hidden:!0},t.proxy(this.toggleFocus,this)),this.small_ele.on("mousemove.smallMove",t.proxy(this.smallMove,this)),this.small_ele.on("mousemove.bigMove",t.proxy(this.bigMove,this))},toggleFocus:function(e){var t=this.small_ele.find(".opacity-img");e.data.hidden?(this.focus_ele.stop().fadeOut(200),this.big_ele.stop().fadeOut(200),t.stop().fadeTo("fast",1)):(this.focus_ele.stop().fadeIn(200),this.big_ele.stop().fadeIn(200),t.stop().fadeTo("fase",.3))},smallMove:function(){var e=event.offsetX-this.focus_ele.width()/2,t=event.offsetY-this.focus_ele.height()/2,i=this.small_ele.width()-this.focus_ele.width(),s=this.small_ele.height()-this.focus_ele.height();e=i<=(e=e<=0?0:e)?i:e,t=s<=(t=t<=0?0:t)?s:t,this.focus_ele.css({left:e,top:t,backgroundPosition:-e+"px "+-t+"px"});var h=this.small_ele.width()-this.focus_ele.width(),l=this.small_ele.height()-this.focus_ele.height();this.propX=Math.round(e/h*100),this.propY=Math.round(t/l*100)},bigMove:function(){var e=this.big_ele.find("img"),t=e.width()-this.big_ele.width(),i=e.height()-this.big_ele.height(),s=-Math.round(t*this.propX/100),h=-Math.round(i*this.propY/100);e.css({left:s,top:h})},ratio:function(){this.big_ele.find("img").css({width:Math.round(this.small_ele.width()*this.scale),height:Math.round(this.small_ele.height()*this.scale)})}},t.fn.magnifier=e});